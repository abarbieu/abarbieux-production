{"version":3,"sources":["components/todolist/style/Header.tsx","components/tree_menu/TreeMenu.tsx","App.tsx","index.tsx"],"names":["headerStyle","background","color","textAlight","padding","Header","style","TreeMenu","props","scale","units","layerToBtns","layer","depth","jsxArr","Object","entries","id","node","MenuButton","getButtonStyle","push","key","uuid","onClick","nodeClicked","bind","menu","title","menuNode","state","active","children","setState","prevState","splice","addChildren","link","followLink","route","followRoute","to","spawnRange","from","theta","length","forEach","child","i","dir","console","log","diff","addAnimation","offset","x","y","startOffset","getSpawnRange","animation","Math","ceil","styleSheet","document","styleSheets","animationName","PI","keyframes","trunc","cos","sin","insertRule","cssRules","width","rootPos","height","radius","styled","button","a","floor","root","renderedItems","this","React","App","apiUrl","middle","window","innerWidth","innerHeight","updateWindowDimensions","className","LaunchMenu","addEventListener","removeEventListener","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6aaab9c1.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header () {\n  return (\n    <header style={headerStyle}>\n      <h1>Todo List</h1>\n    </header>\n  );\n}\n\nconst headerStyle = {\n  background: '#333',\n  color: 'white',\n  textAlight: 'center',\n  padding: '10px',\n};\nexport default Header;\n","import * as React from 'react';\nimport * as uuid from 'uuid';\nimport styled from 'styled-components';\n\nclass TreeMenu extends React.Component<MyProps, MyState> {\n  scale: number = 75;\n  units: string = 'px';\n  constructor (props: MyProps) {\n    super(props);\n\n    this.state = {\n      active:\n        [\n          {\n            root:\n              {\n                offset: { x: 0, y: 0 },\n                startOffset: { x: 0, y: 0 },\n                spawnRange: this.props.spawnRange,\n                animation: '',\n              },\n          },\n        ],\n    };\n  }\n\n  //! --------------------------------------------------------------------------\n\n  render () {\n    let renderedItems: Array<JSX.Element> = [];\n    for (let i = 0; i < this.state.active.length; i++) {\n      renderedItems = [\n        ...renderedItems,\n        ...this.layerToBtns(this.state.active[i], i),\n      ];\n    }\n    return renderedItems;\n  }\n\n  //! --------------------------------------------------------------------------\n\n  layerToBtns = (layer: Layer, depth: number): Array<JSX.Element> => {\n    const jsxArr: Array<JSX.Element> = [];\n    for (let [ id, node ] of Object.entries(layer)) {\n      let MenuButton = this.getButtonStyle(node);\n\n      jsxArr.push(\n        <MenuButton\n          key={uuid.v4()}\n          onClick={this.nodeClicked.bind(this, depth, id)}\n        >\n          {this.props.menu[depth][id].title}\n        </MenuButton>\n      );\n    }\n    return jsxArr;\n  };\n\n  //! --------------------------------------------------------------------------\n\n  nodeClicked = (depth: number, id: string) => {\n    //* Queries provided menu json\n    let menuNode: MenuNode = this.props.menu[depth][id];\n    let node: ActiveNode = this.state.active[depth][id];\n\n    if (menuNode.children) {\n      this.setState((prevState) => {\n        //* Deactivates everything else\n        prevState.active.splice(depth);\n\n        //* Deactivated Siblings\n        prevState.active[depth] = { [id]: node };\n\n        return prevState;\n      });\n      this.addChildren(menuNode.children, depth, id);\n    } else if (menuNode.link) {\n      this.followLink(menuNode.link);\n    } else if (menuNode.route) {\n      this.followRoute(menuNode.route);\n    } else {\n      //! Throw error\n    }\n  };\n\n  //! --------------------------------------------------------------------------\n\n  addChildren = (children: Array<string>, depth: number, id: string) => {\n    let node: ActiveNode = this.state.active[depth][id];\n    let to: number = node.spawnRange.to;\n    let from: number = node.spawnRange.from;\n    const theta = (to - from) / (children.length - 1);\n\n    this.setState((prevState) => {\n      //* Resets layer just in case\n      prevState.active[depth + 1] = {};\n\n      //* Adds node's children to active array\n      children.forEach((child, i) => {\n        //* Generates evenly distributed dirs for kids\n        const dir = from + i * theta;\n        console.log(child, dir);\n        //* Diff is distance moved\n        const diff = this.addAnimation(dir);\n\n        //* Initing each child in next later\n        prevState.active[depth + 1][child] = {\n          offset: { x: node.offset.x + diff.x, y: node.offset.y + diff.y },\n          startOffset: { x: node.offset.x, y: node.offset.y },\n          spawnRange: this.getSpawnRange(dir),\n          animation: `animation${Math.ceil(dir * 10)}`,\n        };\n      });\n      return prevState;\n    });\n  };\n\n  //! --------------------------------------------------------------------------\n\n  //* Returns dist translated\n  addAnimation = (dir: number): { x: number; y: number } => {\n    let styleSheet = document.styleSheets[0] as CSSStyleSheet;\n    let animationName: string = `animation${Math.ceil(dir * 10)}`;\n    dir = Math.PI * dir;\n    let keyframes = `@keyframes ${animationName} {\n        0% {\n          transform: translate(0px, 0px);\n        }\n        100% {\n          transform: translate(\n            ${Math.trunc(Math.cos(dir) * this.scale)}${this.units},\n            ${Math.trunc(Math.sin(dir) * -this.scale)}${this.units});\n          }\n        }`;\n\n    styleSheet.insertRule(keyframes, styleSheet.cssRules.length);\n    return {\n      x: Math.trunc(Math.cos(dir) * this.scale),\n      y: Math.trunc(Math.sin(dir) * -this.scale),\n    };\n  };\n\n  //! --------------------------------------------------------------------------\n\n  getButtonStyle = (node: ActiveNode) => {\n    let width = this.props.rootPos.x;\n    let height = this.props.rootPos.y;\n    let x = node.startOffset.x;\n    let y = node.startOffset.y;\n    // console.log(x, y);\n    // console.log(width, height);\n    let radius = this.scale;\n    return styled.button`\n      font-size: 10pt;\n      outline: none;\n      position: fixed;\n\n      color: #fdb241;\n      background: #07837da6;\n      border-radius: 50%;\n\n      width: ${radius}${this.units};\n      height: ${radius}${this.units};\n      margin-top: -${radius / 2}${this.units};\n      margin-left: -${radius / 2}${this.units};\n\n      left: ${width / 2 + x}px;\n      top: ${height / 2 + y}px;\n\n      animation: ${node.animation} 350ms ease-in-out forwards;\n\n      &:hover {\n        border-color: #fdb241;\n        border-width: 2px;\n      }\n    `;\n  };\n\n  //! --------------------------------------------------------------------------\n  //{ \"title\": \"Fun\", \"children\": [ \"fractals\", \"data-vis\" ] }\n\n  getSpawnRange = (a: number) => {\n    a *= 8;\n    let i: number = Math.floor(((a < 1 ? a + 15 : a) - 1) / 2);\n    return {\n      from: Math.floor(i / 2) * 0.5,\n      to: Math.floor((i + 3) / 2) * 0.5,\n    };\n  };\n\n  //! --------------------------------------------------------------------------\n\n  followLink = (link: string) => {\n    console.log('Following link: %s', link);\n  };\n\n  //! --------------------------------------------------------------------------\n\n  followRoute = (route: string) => {\n    console.log('Following route: %s', route);\n  };\n}\n\n//! --------------------------------------------------------------------------\n\n//* Each index in active array denotes a layer of the tree,\n//* Each layer (at depth i) is an object mapping ids to positions\ntype MyState = { active: Array<Layer> };\ntype MyProps = {\n  rootPos: Point;\n  spawnRange: Range;\n  menu: Array<{ [key: string]: MenuNode }>;\n};\n\n//! Type stuff\n\ntype MenuNode = {\n  title: string;\n  children?: Array<string>;\n  link?: string;\n  route?: string;\n};\n\ntype Point = { x: number; y: number };\ntype Range = { from: number; to: number };\n\ntype ActiveNode = {\n  offset: Point;\n  startOffset: Point;\n  spawnRange: Range;\n  animation: string;\n};\n\ntype Layer = {\n  [key: string]: ActiveNode;\n};\n\nexport default TreeMenu;\n","import React from 'react';\nimport LaunchMenu from './resources/launch-menu.json';\nimport Header from './components/todolist/style/Header';\nimport TreeMenu from './components/tree_menu/TreeMenu';\n//! import TodoList from './components/todolist/TodoList';\nimport './App.css';\n\ntype MyState = { middle: { x: number; y: number } };\ntype MyProps = {};\n\nclass App extends React.Component<MyProps, MyState> {\n  apiUrl: String;\n\n  constructor (props: MyProps) {\n    super(props);\n    if (process.env.NODE_ENV === 'development') {\n      this.apiUrl = 'http://127.0.0.1:54321/api/';\n    } else {\n      this.apiUrl = 'https://abarbieux.com/api/';\n    }\n    this.state = {\n      middle: { x: window.innerWidth / 2, y: window.innerHeight / 2 },\n    };\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n  }\n\n  render () {\n    return (\n      <div className='Tiled-back'>\n        <div className='container'>\n          <Header />\n          <div className='Menu-container'>\n            <TreeMenu\n              rootPos={this.state.middle}\n              spawnRange={{ from: 0, to: 1.5 }}\n              menu={LaunchMenu}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n  componentDidMount () {\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n\n  updateWindowDimensions () {\n    this.setState({ middle: { x: window.innerWidth, y: window.innerHeight } });\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}